{{ 'component-testimonial.css' | asset_url | stylesheet_tag }}


{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}
<div class="color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding main-section testimonial-{{ section.id }} section_{{layout}}  review-{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="testimonial">
    {% if section.settings.show_full_width == false %}
        <div class="page-width">
    {% endif %}    

        <div class="wrapper_container">
            <div class="testimonial__image" {% if section.settings.image != blank %} style="background: url({{  section.settings.image | img_url: 'master' }}) no-repeat center; background-attachment: fixed; background-position: center; background-size: cover; "{% endif %}>
                {% if section.settings.image == blank %}
                    <div class="no-image hover-images" >
                        {{ 'detailed-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
                    </div>
                {% endif %}
            </div>
            
            <div class="wrapper_content">
                <div class="container_mx">
                    <div class=" title-wrapper title-wrapper--no-top-margin page-width{% if show_mobile_slider %} title-wrapper--self-padded-tablet-down{% endif %}{% if show_desktop_slider %} collection__title--desktop-slider{% endif %}">
                      {%- if section.settings.title != blank -%}
                        <h2 class="title inline-richtext {{ section.settings.heading_size }}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
                          {{ section.settings.title }}
                        </h2>
                      {%- endif -%}
                      {%- if section.settings.description != blank
                      -%}
                        <div class="collection__description {{ section.settings.description_style }} rte{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
                          {{ section.settings.description -}}
                        </div>
                      {%- endif -%}
                    </div>
                    <div class="main-row column-1 slider" data-slick='{
                        "dots": true,
                        "arrows": true,
                        "infinite": false,
                        "lazyLoad": "ondemand",
                        "mobileFirst": true,
                        "adaptiveHeight": false,
                        "slidesToShow": 1,
                        "slidesToScroll": 1,
                        "prevArrow": "<div class=&apos;slick-prev slick-arrow slick-arrow--large&apos;><svg xmlns=&apos;http://www.w3.org/2000/svg&apos; height=&apos;24px&apos; viewBox=&apos;0 -960 960 960&apos; width=&apos;24px&apos; fill=&apos;#1f1f1f&apos;><path d=&apos;M560-276 356-480l204-204 20 20-184 184 184 184-20 20Z&apos;/></svg></div>", 
                        "nextArrow": "<div class=&apos;slick-next slick-arrow slick-arrow--large&apos;><svg xmlns=&apos;http://www.w3.org/2000/svg&apos; height=&apos;24px&apos; viewBox=&apos;0 -960 960 960&apos; width=&apos;24px&apos; fill=&apos;#1f1f1f&apos;><path d=&apos;M540-480 356-664l20-20 204 204-204 204-20-20 184-184Z&apos;/></svg></div>"
                        }'>
                        {% if section.blocks.size > 0 %}
                            {% for block in section.blocks %}
                                {% liquid
                                    assign ridx = forloop.rindex
                                    if ridx == 5
                                      assign ridx = 1
                                    endif
                                  %}
                                {%- assign placeholder_image = 'product-apparel-' | append: ridx -%}  
                                <div class="main-row__item">
                                    <div class="testimonial">
                                        <div class="testimonial__content">
                                            
                                            <div class="avatar">
                                                {% assign img_url = block.settings.icon_user | img_url: '110x110', crop: 'center' %}
                                                {% if block.settings.icon_user != blank %}
                                                    <img class="lazyload"
                                                        src="{{ img_url }}"
                                                         alt="" >
                                                {% else %}
                                                    <div class="no-image hover-images">
                                                        {{ placeholder_image | placeholder_svg_tag: 'placeholder-svg' }}
                                                    </div>
                                                {% endif %}
                                            </div>
                                            <div class="testimonial__stars text-center">
                                                {%- for i in (1..5) -%}
                                                <span class="svg-wrapper">{{'icon-star-review.svg' | inline_asset_content }}</span>
                                                {%- endfor -%}    
                                            </div>
                                            {% if block.settings.description != blank %}
                                                <div class="description" >
                                                    {{ block.settings.description }}
                                                </div>
                                            {% endif %}
                                            {% if block.settings.name != blank %}
                                                <h3 class="name" >
                                                    <span>{{block.settings.name}}</span>
                                                </h3>
                                            {% endif %}
                                            
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            {%- for i in (1..3) -%}
                                <div class="main-row__item">
                                    <div class="testimonial">
                                        <div class="testimonial__content">
                                              {% liquid
                                                assign ridx = forloop.rindex
                                                if ridx == 5
                                                  assign ridx = 1
                                                endif
                                              %}
                                              {%- assign placeholder_image = 'product-apparel-' | append: ridx -%}
                                    
                                            <div class="avatar">
                                                <div class="no-image hover-images">
                                                    {{ placeholder_image | placeholder_svg_tag: 'placeholder-svg' }}
                                                </div>
                                            </div>
                                            
                                            <div class="description">
                                                <p>Nullam aliquet vestibulum augue non varius. Cras cosmo congue delos melitos. Duis tristique del ante le maliquam praesentoNullam aliquet vestibulum augue non varius. Cras cosmo congue delos melitos. Duis tristique del ante le</p>
                                            </div>
                                            <div class="testimonial__stars text-center">
                                                {%- for i in (1..5) -%}
                                                <span class="svg-wrapper">{{'icon-star-review.svg' | inline_asset_content }}</span>
                                                {%- endfor -%}    
                                            </div>
                                            <h3 class="name" >
                                                <span>Catherine J.</span>
                                            </h3>
                                            
                                        </div>
                                    </div>
                                </div>
                            {%- endfor -%}        
                        {% endif %}    
                    </div>
                </div>
            </div>
        </div>
    {% if section.settings.show_full_width == false %}
        </div>
    {% endif %}  
</div>



{% schema %}
{
    "name": "Testimonial",
    "tag": "section",
    "class": "section",
    "max_blocks": 20,
    "settings": [
        {
          "type": "color_scheme",
          "id": "color_scheme",
          "label": "t:sections.all.colors.label",
          "default": "scheme-1"
        },
        {
          "type": "header",
          "content": "t:sections.featured-collection.settings.header_text.content"
        },   
        {
          "type": "inline_richtext",
          "id": "title",
          "default": "Testimonial",
          "label": "t:sections.featured-collection.settings.title.label"
        },
        {
          "type": "select",
          "id": "heading_size",
          "options": [
            {
              "value": "h2",
              "label": "t:sections.all.heading_size.options__1.label"
            },
            {
              "value": "h1",
              "label": "t:sections.all.heading_size.options__2.label"
            },
            {
              "value": "h0",
              "label": "t:sections.all.heading_size.options__3.label"
            },
            {
              "value": "hxl",
              "label": "t:sections.all.heading_size.options__4.label"
            },
            {
              "value": "hxxl",
              "label": "t:sections.all.heading_size.options__5.label"
            }
          ],
          "default": "h1",
          "label": "t:sections.all.heading_size.label"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "t:sections.featured-collection.settings.description.label"
        },
        {
          "type": "select",
          "id": "description_style",
          "label": "t:sections.featured-collection.settings.description_style.label",
          "options": [
            {
              "value": "body",
              "label": "t:sections.featured-collection.settings.description_style.options__1.label"
            },
            {
              "value": "subtitle",
              "label": "t:sections.featured-collection.settings.description_style.options__2.label"
            },
            {
              "value": "uppercase",
              "label": "t:sections.featured-collection.settings.description_style.options__3.label"
            }
          ],
          "default": "body"
        },
        {
            "type": "header",
            "content": "Section Layout"
        },
        {
            "type": "header",
            "content": "Banner Image"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "range",
            "id": "padding_top",
            "label": "Spacing Top",
            "default": 40,
            "min": 0,
            "max": 100,
            "step": 10,
            "unit": "px"
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "label": "Spacing bottom",
            "default": 40,
            "min": 0,
            "max": 100,
            "step": 10,
            "unit": "px"
        },
        {
            "type": "checkbox",
            "id": "show_full_width",
            "label": "Show full width",
            "default": false
        }
    ],
    "blocks": [
        {
            "type": "review_item",
            "name": "Another image",
            "settings": [
                
                {
                    "type": "text",
                    "id": "title",
                    "label": "Title",
                    "default": "Tile With text Review"
                },
                {
                  "type": "select",
                  "id": "heading_size",
                  "options": [
                    {
                      "value": "h2",
                      "label": "t:sections.all.heading_size.options__1.label"
                    },
                    {
                      "value": "h1",
                      "label": "t:sections.all.heading_size.options__2.label"
                    },
                    {
                      "value": "h0",
                      "label": "t:sections.all.heading_size.options__3.label"
                    }
                  ],
                  "default": "h2",
                  "label": "t:sections.all.heading_size.label"
                },
                {
                    "type":"image_picker",
                    "id":"icon_user",
                    "label":"Avatar "
                },
                {
                    "type": "richtext",
                    "id": "description",
                    "label": "Description",
                    "default": "<p>Description For Icon With Text Review.</p>"
                },
                {
                    "type": "text",
                    "id": "name",
                    "label": "Name",
                    "default": "Jessica B."
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Customer Reviews",
            "category": "Customer Reviews",
            "blocks": [
                {
                    "type": "review_item"
                },
                {
                    "type": "review_item"
                },
                {
                    "type": "review_item"
                }
            ]
        }
    ]
}
{% endschema %}
